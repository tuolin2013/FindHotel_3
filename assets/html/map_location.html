<html>
    <head>
        <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
        <meta http-equiv="Content-type" content="text/html; charset=gb2312">
        <link rel="stylesheet" href="../css/reset.css" type="text/css" media="screen" title="no title">
        <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" title="no title">
        <script type="text/javascript" src="../js/jquery-1.8.0.min.js">
        </script>
        <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=true">
        </script>
		<script type="text/javascript" src="../js/richmarker.js">
        </script>
        
        <script type="text/javascript">
            
            var map;
            var rich_mark;
            var markersArray = [];
            function initialize(){
                //var location = JSON.parse(android.getCurrentLocation());
                //var location = new google.maps.LatLng(22.552434, 113.868442);
                // var haightAshbury = new google.maps.LatLng(location.mLatitude, location.mLongitude);
                var haightAshbury = new google.maps.LatLng(22.552434, 113.868442);
                var recycle = new google.maps.MarkerImage('../img/location.png');
                var mapOptions = {
                    zoom: 18,
                    center: haightAshbury,
                    mapTypeId: google.maps.MapTypeId.ROADMAP
                };
                map = new google.maps.Map(document.getElementById("map_canvas"), mapOptions);
                rich_mark = new RichMarker({
                    position: haightAshbury,
                    map: map,
                    draggable: false,
					flat:false,
                    content: '<div class="arrow_box">css arrow please!</div>'
                });
                markersArray.push(rich_mark);
                // addMarker(haightAshbury, recycle, null);
            }
            
            function addMarker(location, recycle, data){
                //this recycle will loded from wcf server.
                var marker = new google.maps.Marker({
                    position: location,
                    map: map,
                    icon: recycle
                });
                
                markersArray.push(marker);
            }
        </script>
    </head>
    <body onload="initialize()">
        <div id="map_canvas" style="width:100%;height:800px;">
        </div>
    </body>
</html>
